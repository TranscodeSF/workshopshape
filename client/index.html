<head>
  <meta charset="utf-8">
  <title>Transcode Workshop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style type="text/css">
    body {
      padding-top: 60px;
      padding-bottom: 40px;
    }
  </style>
</head>

<body>
  {{> navbar}}
  {{> content}}
</body>

<template name="navbar">
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <button type="button" class="btn btn-navbar" data-toggle="collapse"
            data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="brand" href="#">Transcode Workshop</a>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li class="active"><a href="#">Home</a></li>
          </ul>
          <div class="pull-right">
          {{loginButtons}}
          </div>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>
</template>

<template name="content">
  <div class="container">
    {{#if loggedIn}}
    {{> loggedincontent}}
    {{else}}
    <h1>Welcome!</h1>
    <p>If you have a <a href="https://github.com">GitHub</a> account, please log in using the button at the top right of this page.</p>
    <p>If you don't have an account yet, please go to <a href="https://github.com">GitHub</a> now, and create one, and then log in.</p>
    {{/if}}
  </div>
</template>

<template name="loggedincontent">
  <div class="row">
    <div class="span3">
      {{> sidebar}}
    </div>
    <div class="span9">
      {{> worksheet}}
    </div>
  </div>
</template>

<template name="sidebar">
  <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Worksheets</li>
      {{#each worksheets}}
      <li class="{{worksheetActive}}"><a class="selectWorksheet">{{name}}</a></li>
      {{/each}}
    </ul>
  </div><!--/.well -->
</template>

<template name="worksheet">
  {{#with selectedWorksheet}}
    <h1>{{name}}</h1>
    {{#each questions}}
      {{#with getQuestion this}}
        {{> question}}
      {{/with}}
    {{/each}}
  {{/with}}
</template>

<template name="question">
  <h3>{{name}}</h3>
  <div class="row">
    <div class="span5 question-code">
      <textarea>{{initialCode}}</textarea>
    </div>
    <div class="span4 question-canvas">
      <canvas></canvas>
    </div>
    <div class="span9">
      <div class="well question-output testOutputText">
        <em>Press "Run" to execute code...</em>
        <pre></pre>
      </div>
    </div>
  </div>
  <button class="btn runButton">Run</button>
</template>
